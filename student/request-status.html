<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>My Request Status</title>
  <link rel="stylesheet" href="../styles.css" />
  <script>
    function getParam(name) {
      const params = new URLSearchParams(window.location.search);
      return params.get(name);
    }
    document.addEventListener('DOMContentLoaded', () => {
      const state = getParam('state');
      const statusEl = document.getElementById('statusTag');
      const detailEl = document.getElementById('statusDetail');
      if (state === 'allocated') {
        statusEl.textContent = 'Allocated';
        statusEl.className = 'tag success';
        detailEl.textContent = 'Room 2A-14 in Alpha Hostel. Check-in: 2025-11-20.';
      } else if (state === 'error') {
        statusEl.textContent = 'Error';
        statusEl.className = 'tag warning';
        detailEl.textContent = 'There was a problem processing your request. Try again.';
      } else {
        statusEl.textContent = 'Pending';
        statusEl.className = 'tag info';
        detailEl.textContent = 'Your request is under review. You will be notified when allocated.';
      }
    });
  </script>
</head>
<body>
  <header class="app-header">
    <h1>My Room Request Status</h1>
  </header>
  <main class="container">
    <div class="toolbar">
      <nav class="nav">
        <a href="./dashboard.html">Dashboard</a>
        <a href="./request-room.html">Request Room</a>
        <a class="active" href="./request-status.html">My Status</a>
        <a href="../index.html">Logout</a>
      </nav>
    </div>
    <section class="card stack">
      <div>
        <h2>Current Status: <span id="statusTag" class="tag">Loading…</span></h2>
        <p id="statusDetail" class="muted">Loading…</p>
      </div>
      <div class="grid-2">
        <a class="button secondary" href="./request-room.html">New Request</a>
        <a class="button primary" href="../staff/allocate-room.html">Simulate Allocation (Staff)</a>
      </div>
    </section>
  </main>
</body>
</html>


